#config_version=6

# search for keyword "TODO" for easy things to customize your first game.

# ---------------
# HARDWARE
# ---------------
fast:
  # TODO set your ports to the names you find in your own system, under the "dev" folder.    
  ## -------------------------------------------------------
  ## Jupiter Crush JC v 0.50 Mac Mini
  #ports: /dev/tty.usbserial-14601, /dev/tty.usbserial-14602
  ## -------------------------------------------------------

  # -------------------------------------------------------
  # BallyAnyMachine v 0.50 Mac Powerbook Pro
  #ports: /dev/tty.usbserial-146B, /dev/tty.usbserial-146C
  #ports: /dev/tty.usbserial-14201, /dev/tty.usbserial-14202
  #ports: /dev/tty.usbserial-14101, /dev/tty.usbserial-14102
  #ports: /dev/tty.usbserial-14601, /dev/tty.usbserial-14602
  # -------------------------------------------------------

  # -------------------------------------------------------
  # BallyAnyMachine v 0.51 Mac Mini Boombox
  # -------------------------------------------------------
  #ports: /dev/tty.usbserial-14601, /dev/tty.usbserial-14602
  
  # -------------------------------------------------------
  # eBay Mac Mini #3 
  ports: /dev/tty.usbserial-14301, /dev/tty.usbserial-14302
  # -------------------------------------------------------
  
  #config_number_format: int
  #debug: true
  net_buffer: 10000
  rgb_buffer: 10000
  dmd_buffer: 10000
  ignore_rgb_crash: true
  watchdog: 2000
  #file_log: full
  
hardware:
  driverboards: fast
  platform: fast
  lights: fadecandy
  

# ******************************************
# ------------------------------------------
# HARDWARE / SWITCHES
# ------------------------------------------
# ******************************************

switches:

  # *************************
  # BOARD ZERO - 1616
  # *************************
  # HARDWARE / SWITCHES
  # *************************
  # ------------- BANK 0-7 ---------------
  s_0_0:
    number: 0-0
    tags: sDropRight1, tagDropTarget
    platform_settings:
      debounce_close: 100
      debounce_open: 100
  s_0_1:
    number: 0-1
    tags: sDropMiddle1, tagDropTarget
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_0_2:
    number: 0-2
  s_0_3:
    number: 0-3
    tags: sMagnetOptoRight, tagMagnet
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_0_4:
    number: 0-4
    tags: sLane4, tagLane
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_0_5:
    number: 0-5
    tags: sLane3, tagLane
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_0_6:
    number: 0-6
    tags: sLane2, tagLane
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_0_7:
    number: 0-7
    tags: sLane1, tagLane
    platform_settings:
      debounce_close: 0
      debounce_open: 250
    
  # ------------- BANK 8-15 ---------------
  s_0_8:
    number: 0-8
    tags: start, player, tagStart
    platform_settings:
      debounce_close: 100
      debounce_open: 100
  s_0_9:
    number: 0-9
    tags: player, flipper_left, left_flipper
    platform_settings:
      debounce_close: 0
      debounce_open: 0
  s_0_10:
    number: 0-10
    tags: player, flipper_right, right_flipper
    platform_settings:
      debounce_close: 0
      debounce_open: 0
  s_0_11:
    number: 0-11
    tags: tagLaunch
    platform_settings:
      debounce_close: 0
      debounce_open: 0
  s_0_12:
    number: 0-12
  s_0_13:
    number: 0-13
  s_0_14:
    number: 0-14
  s_0_15:
    number: 0-15


  # *************************
  # BOARD ONE - 3208
  # *************************
  # HARDWARE / SWITCHES
  # *************************
  # ------------- BANK 0-7 ---------------
  s_1_0:
    number: 1-0
    tags: sTargetLeft1, tagTarget
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_1:
    number: 1-1
    tags: sTargetLeft3, tagTarget
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_2:
    number: 1-2
    tags: sThumperLowerLeft, tagThumper
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_3:
    number: 1-3
    tags: sThumperMiddle, tagThumper
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_4:
    number: 1-4
    tags: sOutlaneLeft, tagOutlane
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_5:
    number: 1-5
    tags: sOutlaneRight, tagOutlane
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_6:
    number: 1-6
    tags: sSlingLeft, tagSling
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_7:
    number: 1-7
    tags: sDropMiddle2, tagDropTarget
    platform_settings:
      debounce_close: 0
      debounce_open: 250

  # ------------- BANK 8-15 ---------------
  s_1_8:
    number: 1-8
    tags: sDropRight2, tagDropTarget
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_9:
    number: 1-9
    tags: sSlingRight, tagSling
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_10:
    number: 1-10
    tags: sReturnRight, tagReturn
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_11:
    number: 1-11
    tags: sReturnLeft, tagReturn
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_12:
    number: 1-12
    tags: sNewtonRight, tagNewton
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_13:
    number: 1-13
    tags: sThumperLeft, tagThumper
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_14:
    number: 1-14
    tags: sTargetLeft4, tagTarget
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_15:
    number: 1-15
    tags: sTargetLeft2, tagTarget
    platform_settings:
      debounce_close: 0
      debounce_open: 250

  # ------------- BANK 16-23 ---------------
  s_1_16:
    number: 1-16
    tags: sRolloverLeft1, tagRollover
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_17:
    number: 1-17
    tags: sRolloverRight1, tagRollover
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_18:
    number: 1-18
    type: NC
    tags: sVukLowerRight, tagVuk
    platform_settings:
      debounce_close: 25
      debounce_open: 250
  s_1_19:
    number: 1-19
    type: NC
    tags: sVukUpperRight2, tagVuk
    platform_settings:
      debounce_close: 25
      debounce_open: 250
  s_1_20:
    number: 1-20
    tags: sSpinnerLeft, tagSpinner
    platform_settings:
      debounce_close: 0
      debounce_open: 50
  s_1_21:
    number: 1-21
    tags: sRolloverLower1, tagRollover
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_22:
    number: 1-22
  s_1_23:
    number: 1-23
    tags: sDropMiddle3, tagDropTarget
    platform_settings:
      debounce_close: 0
      debounce_open: 250
    
  # ------------- BANK 24-31 ---------------
  s_1_24:
    number: 1-24
    tags: sThumperLeft, tagThumper
    platform_settings:
      debounce_close: 0
      debounce_open: 50
  s_1_25:
    number: 1-25
  s_1_26:
    number: 1-26
    tags: sRolloverLower2, tagRollover
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_27:
    number: 1-27
    tags: sSpinnerRight, tagSpinner
    platform_settings:
      debounce_close: 0
      debounce_open: 50
  s_1_28:
    number: 1-28
    tags: sDropInlineRight, tagDropInline
    type: NC
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_29:
    number: 1-29
    type: NC
    tags: sVukUpperRight1, tagVuk
    platform_settings:
      debounce_close: 25
      debounce_open: 250
  s_1_30:
    number: 1-30
    tags: sRolloverRight2, tagRollover
    platform_settings:
      debounce_close: 0
      debounce_open: 250
  s_1_31:
    number: 1-31
    tags: sRolloverLeft2, tagRollover
    platform_settings:
      debounce_close: 0
      debounce_open: 250

  # *************************
  # BOARD TWO 
  # *************************
  # HARDWARE / SWITCHES
  # *************************
  s_2_0:
    number: 2-0
    tags: sTrough1, tagTrough
    type: NC
    platform_settings:
      debounce_close: 100
      debounce_open: 100
  s_2_1:
    number: 2-1
    tags: sTrough2, tagTrough
    type: NC
    platform_settings:
      debounce_close: 100
      debounce_open: 100
  s_2_2:
    number: 2-2
    tags: sTrough3, tagTrough
    type: NC
    platform_settings:
      debounce_close: 100
      debounce_open: 100
  s_2_3:
    number: 2-3
    tags: sTrough4, tagTrough
    type: NC
    platform_settings:
      debounce_close: 100
      debounce_open: 100
  s_2_4:
    number: 2-4
    tags: sTrough5, tagTrough
    type: NC
    platform_settings:
      debounce_close: 100
      debounce_open: 100
  s_2_5:
    number: 2-5
    tags: sTrough6, tagTrough, tagDrain
    type: NC
    platform_settings:
      debounce_close: 100
      debounce_open: 100
  s_2_6:
    number: 2-6
    tags: sTroughJam, tagTrough
    type: NC
    platform_settings:
      debounce_close: 100
      debounce_open: 100
  s_2_7:
    number: 2-7
    tags: sPlungerLane, tagPlunger
    platform_settings:
      debounce_close: 100
      debounce_open: 100
      
# ******************************************
# ------------------------------------------
# HARDWARE / COIL
# ------------------------------------------
# ******************************************
coils:
  # *************************
  # BOARD ZERO - 1616
  # *************************
  # HARDWARE / COILS
  # *************************
  # ------------- BANK 0-7 ---------------
  c_0_0:
    number: 0-0
    # MAGNET UPPER RIGHT
    default_pulse_ms: 100
    max_pulse_ms: 100
    # default_pulse_power: 0.5
    # max_pulse_power: 0.5
    default_pulse_power: 1.0
    max_pulse_power: 1.0
  c_0_1:
    number: 0-1
    # FLIPPER UPPER RIGHT
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    default_hold_power: 1.0
    max_hold_power: 1.0
    allow_enable: true
  c_0_2:
    number: 0-2
    # DROP MIDDLE RESET
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0
  c_0_3:
    number: 0-3
    # DROP RIGHT RESET
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0
  c_0_4:
    number: 0-4
    # N/U
  c_0_5:
    number: 0-5
    # N/U
  c_0_6:
    number: 0-6
    # N/U
  c_0_7:
    number: 0-7
    # N/U
    
  # ------------- BANK 8-15 ---------------
  c_0_8:
    number: 0-8
    # LEFT FLIPPER
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    default_hold_power: 1.0
    max_hold_power: 1.0
    allow_enable: true
    enable_events: ball_started
    disable_events: ball_will_end

  c_0_9:
    number: 0-9
    # RIGHT FLIPPER
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    default_hold_power: 1.0
    max_hold_power: 1.0
    allow_enable: true
    enable_events: ball_started
    disable_events: ball_will_end
    
  c_0_10:
    number: 0-10
  c_0_11:
    number: 0-11
    # INLINE RIGHT KNOCKDOWN
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0
  c_0_12:
    number: 0-12
    # RIGHT GATE
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    default_hold_power: 1.0
    max_hold_power: 1.0
    allow_enable: true
  c_0_13:
    number: 0-13
    # GI LAMPS
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    default_hold_power: 1.0
    max_hold_power: 1.0
    allow_enable: true
    enable_events: mode_attract_started

  c_0_14:
    number: 0-14

  c_0_15:
    number: 0-15
    # INLINE RIGHT RESET
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    

  # *************************
  # BOARD ONE - 3208
  # *************************
  # HARDWARE / COILS
  # *************************
  # ------------- BANK 0-7 ---------------
  c_1_0:
    number: 1-0
    # MAGNET SLING RIGHT
    #default_pulse_ms: 50
    #max_pulse_ms: 50
    default_pulse_ms: 100
    max_pulse_ms: 100
    # default_pulse_power: 0.5
    # max_pulse_power: 0.5
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    allow_enable: true
    
  c_1_1:
    number: 1-1
    # VUK UPPER RIGHT 2
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 0.8
    max_pulse_power: 0.8
    
  c_1_2:
    number: 1-2
    # VUK UPPER RIGHT 1
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 0.8
    max_pulse_power: 0.8

  c_1_3:
    number: 1-3
    # THUMPER MIDDLE
    default_pulse_ms: 50
    max_pulse_ms: 50
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    
  c_1_4:
    number: 1-4
    # THUMPER LOWER LEFT
    default_pulse_ms: 50
    max_pulse_ms: 50
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    
  c_1_5:
    number: 1-5
    # THUMPER LEFT
    default_pulse_ms: 50
    max_pulse_ms: 50
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    
  c_1_6:
    number: 1-6
    # MAG SLING LEFT
    #default_pulse_ms: 50
    #max_pulse_ms: 50
    default_pulse_ms: 100
    max_pulse_ms: 100
    # default_pulse_power: 0.5
    # max_pulse_power: 0.5
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    
  c_1_7:
    number: 1-7
    # VUK LOWER RIGHT
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0


  # *************************
  # BOARD TWO - 0804
  # *************************
  # HARDWARE / COILS
  # *************************
  # ------------- BANK 0-7 ---------------
  c_2_0:
    number: 2-0
    # BALL EJECT
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    
  c_2_1:
    number: 2-1
    # AUTO LAUNCH
    default_pulse_ms: 250
    max_pulse_ms: 250
    default_pulse_power: 1.0
    max_pulse_power: 1.0
    
  c_2_2:
    number: 2-2
    #N/A
    
  c_2_3:
    number: 2-3
    #N/A
    
    
# ******************************************
# ------------------------------------------
# HARDWARE / AUTOFIRE RULES
# ------------------------------------------
# ******************************************

# ------------------------------------------
# HARDWARE / AUTOFIRE / FLIPPERS
# ------------------------------------------
flippers:
  # UPPER RIGHT FLIPPER
  flipperUpperRight:
    main_coil: c_0_1
    activation_switch: s_0_10
    enable_events: eventEnableFlipperUpperRight

# ------------------------------------------
# HARDWARE / AUTOFIRE / COILS
# ------------------------------------------

autofire_coils:
  
  autofireThumperLeft:
    coil: c_1_5
    switch: s_1_13
    
  autofireThumperLowerLeft:
    coil: c_1_4
    switch: s_1_2
    
  autofireThumperMiddle:
    coil: c_1_3
    switch: s_1_3
    
  autofireSlingLeft:
    coil: c_1_6
    switch: s_1_6
    
  autofireSlingRight:
    coil: c_1_0
    switch: s_1_9
    
# ---------------------
# DROP::TARGETS
# ---------------------
drop_targets:
  # ---------------------
  # DROP RIGHT
  dropTargetRight1:
    switch: s_0_0
  dropTargetRight2:
    switch: s_1_8
  dropTargetRight3:
    switch: s_1_24
  # ---------------------
  # DROP MIDDLE
  dropTargetMiddle1:
    switch: s_0_1
  dropTargetMiddle2:
    switch: s_1_7
  dropTargetMiddle3:
    switch: s_1_23
  # ---------------------
  # DROP INLINE
  dropTargetInline:
    switch: s_1_28
    reset_coil: c_0_15
    knockdown_coil: c_0_11
    reset_events:
      - eventResetDropTargetInline
    knockdown_events:
      - eventKnockdownDropTargetInline
    
# ---------------------
# DROP::TARGET::BANKS
# ---------------------
drop_target_banks:
  # ---------------------
  # DROP RIGHT
  dropTargetBankRight:
    drop_targets: dropTargetRight1, dropTargetRight2, dropTargetRight3
    reset_coils: c_0_2
    reset_on_complete: 1s
    reset_events:
      #- ball_starting|500ms
      - eventResetDropTargetBankRight
  # ---------------------
  # DROP MIDDLE
  dropTargetBankMiddle:
    drop_targets: dropTargetMiddle1, dropTargetMiddle2, dropTargetMiddle3
    reset_coils: c_0_3
    reset_on_complete: 1s
    reset_events:
      #- ball_starting|500ms
      - eventResetDropTargetBankMiddle

# ******************************************
# ------------------------------------------
# HARDWARE / BALL DEVICES
# ------------------------------------------
# ******************************************
ball_devices:

  # TROUGH
  ballDeviceTrough:
    tags: trough, home, drain
    ball_switches: s_2_0, s_2_1, s_2_2, s_2_3, s_2_4, s_2_5, s_2_6
    eject_coil: c_2_0
    jam_switch: s_2_6
    entrance_count_delay: 1s
    exit_count_delay: 1s
    eject_targets: ballDeviceAutoLaunch
    confirm_eject_type: target
    eject_timeouts: 2s
    
  # AUTO LAUNCH
  ballDeviceAutoLaunch:
    ball_switches: s_2_7
    eject_coil: c_2_1
    mechanical_eject: true
    auto_fire_on_unexpected_ball: true
    entrance_count_delay: 1s
    eject_timeouts: 2s
    exit_count_delay: 1s

  # # VUK UPPER RIGHT 1
  # ballDeviceVukUpperRight1:
  #   tags: home
  #   ball_switches: s_1_29
  #   eject_coil: c_1_2
  #   #debug: true
  #   auto_fire_on_unexpected_ball: false
  #   eject_events: eventEjectBallDeviceVukUpperRight1

  # # VUK UPPER RIGHT 2
  # ballDeviceVukUpperRight2:
  #   tags: home
  #   ball_switches: s_1_19
  #   eject_coil: c_1_1
  #   #debug: true
  #   auto_fire_on_unexpected_ball: false
  #   eject_events: eventEjectBallDeviceVukUpperRight2

  # VUK LOWER RIGHT
  ballDeviceVukLowerRight:
    #tags: home
    ball_switches: s_1_18
    eject_coil: c_1_7
    #debug: true
    auto_fire_on_unexpected_ball: false
    eject_events: eventEjectBallDeviceVukLowerRight

# ---------------------
# BALL::HOLDS
# ---------------------
ball_holds:

#   # VUK UPPER RIGHT 1
#   ballHoldVukUpperRight1:
#     balls_to_hold: 1
#     hold_devices: ballDeviceVukUpperRight1
#     enable_events: eventEnableBallHoldVukUpperRight1
#     disable_events: eventDisableBallHoldVukUpperRight1
#     release_one_events: eventReleaseBallHoldVukUpperRight1

#   # VUK UPPER RIGHT 2
#   ballHoldVukUpperRight2:
#     balls_to_hold: 1
#     hold_devices: ballDeviceVukUpperRight2
#     enable_events: eventEnableBallHoldVukUpperRight2
#     disable_events: eventDisableBallHoldVukUpperRight2
#     release_one_events: eventReleaseBallHoldVukUpperRight2
    
  # VUK LOWER RIGHT
  ballHoldVukLowerRight:
    balls_to_hold: 1
    hold_devices: ballDeviceVukLowerRight
    # enable_events: mode_modeBase_started
    # release_one_events: releaseBallHoldVukLowerRight
    enable_events: eventEnableBallHoldVukLowerRight
    disable_events: eventDisableBallHoldVukLowerRight
    release_one_events: eventReleaseBallHoldVukLowerRight

# ---------------------
# PLAYFIELDS
# ---------------------
playfields:
  playfield:
    #default_source_device: ballDeviceTrough
    default_source_device: ballDeviceAutoLaunch
    tags: default



